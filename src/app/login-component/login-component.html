
<main class="main">



  <!-- 登入卡片 -->
  <div class="login-card">
    <h2>財務管理 Login Page</h2>
    
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <!-- Username -->
      <div class="input-group">
        <label for="username">Username:</label>
        <input 
          id="username" 
          formControlName="username" 
          type="text" 
          placeholder="輸入使用者名稱"
        />
        @if (loginForm.controls.username.touched && loginForm.controls.username.invalid) {
          @switch (true) {
            @case (loginForm.controls.username.hasError('required')) {
              <small class="error-message">必填</small>
            }
            @case (loginForm.controls.username.hasError('minlength')) {
              <small class="error-message">至少 4 個字元</small>
            }
          }
        }
      </div>
      
      <!-- Password -->
      <div class="input-group">
        <label for="password">Password:</label>
        <input 
          id="password" 
          formControlName="password" 
          type="password" 
          placeholder="輸入密碼"
        />
        @if (loginForm.controls.password.touched && loginForm.controls.password.invalid) {
          @switch (true) {
            @case (loginForm.controls.password.hasError('required')) {
              <small class="error-message">必填</small>
            }
            @case (loginForm.controls.password.hasError('minlength')) {
              <small class="error-message">至少 4 個字元</small>
            }
          }
        }
      </div>
      
      <!-- Submit Button -->
      <button 
        type="submit" 
        class="login-btn"
        [disabled]="Login_Service.check_submit()"
        [class.loading]="Login_Service.check_submit()"
      >
        @if (Login_Service.check_submit()) {
          <span class="spinner"></span>
          登入中...
        } @else {
          Login
        }
      </button>
    </form>
  </div>
</main>